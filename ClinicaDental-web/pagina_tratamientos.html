<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tratamientos del paciente</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <link rel="icon" href="smileyfondo.ico">
    <link rel="stylesheet" href="styleproc.css">
    
</head>
<body>
    <br> <!--REGISTROSSSSSS DE TRATAMIENTO-->    
    
    <div class="container pb-1 letra-roboto" >
      <div class="row justify-content-evenly">
        <div class="col-md-2 col-4"><img src="img/conta-azul.png" class="img-fluid" alt="" style="height: 100%;"></div>
        <div class="col-md-10 col-8">
          <a class="btn btn-danger text-start" href="javascript:void(0);" onclick="window.history.back();"><i class="bi bi-caret-left-square"></i> <strong>Volver</strong></a>

          <h1 class="fw-bolder fs-1 text-center">Registro de <span class="c-color">Tra<u>tamie</u>nto</span></h1>
          
          
          <form class="row" action="http://localhost/serviciosmiley/tratamientos/insertar-tratamiento.php?paciente=<?php echo $codigo_paciente; ?>" method="POST">


            <div class="col-md-6 col-12">
    
              
                <label for="txtFechaproc" class="form-label">&nbsp;&nbsp;&nbsp;<strong>Fecha de procedimiento</strong></label>
                <input type="date" class="form-control" id="txtFechaproc">
             
            </div>
            <div class="col-md-6 col-12 pt-4">
    
              
            
                <div class="input-group">
                 
                  <input type="text" class="form-control" id="txtNotaproc" placeholder="Nota(Adicional)">
                  <span class="input-group-text">
                    <i class="bi bi-card-list text-warning"></i>
                  </span>
                  
                </div>
          </div>

            <div class="col-md-6 col-12 pt-4">
    
            <div class="input-group">
                <input type="text" class="form-control" id="txtDescripcionproc" placeholder="Procedimiento">
                <span class="input-group-text">
                  <i class="bi bi-card-list text-warning"></i>
                </span>
                
            </div>
    
            </div>
            <div class="col-md-6 col-12 pt-4">
                <select class="form-select" aria-label="Default select example" id="txtDoctorproc" >
                  <option selected disabled value="">Doctor</option>
                  <option value="Dr. Jhon Zelada">Dr. Jhon Zelada</option>
                  <option value="Dra. Alejandra Noriega">Dra. Alejandra Noriega</option>
                  <option value="Dr. Angel Granda">Dr. Angel Granda</option>
                  <option value="Dra. Madelyn Placido">Dra. Madelyn Placido</option>  
                  <option value="Dra. Carol Vasquez">Dra. Carol Vasquez</option>   
                  <option value="Dra. Azul Araucano">Dra. Azul Araucano</option>
                  <option value="Dr. Hans Gamarra">Dr. Hans Gamarra</option>
                  <option value="Dra. Rosario Araujo">Dra. Rosario Araujo</option>       
                  
              
                  
                </select>
              </div>
              
           
                        
            
            
    
            
          <div class="d-grid col-4 mx-auto mt-3">
            <button class="btn btn-warning btn-azul" type="button" id="btnAgregarProc"><strong>Agregar</strong></button>
            
          </div>
          </form>
          </div>
        </div>
    </div>
<div class="descargar-tratamiento">

        <div class="container-fluid" style="padding-left: 0; padding-right: 0;">
          <img src="img-costo/costo.png" class="img-fluid">
        </div>
        <div class="container pt-5" >
              <h5 class="ps-3">PROCEDIMIENTO </h5>
              <div id="nombre-apellido-paciente-codigo" class="container mb-3 ps-3"></div>
              <div id="nombre-apellido-paciente" class="container mb-3 ps-3"></div>
              
            </div>
            <div class="container table-responsive">
            <table class="table table-bordered">
              <thead>
                <tr>
                  
                  <th style="width: 2%; border: none;"></th>
                  <th class="text-white" style="background-color: #052A99; width: 15%;">Fecha</th>
                  <th class="text-white" style="background-color: #052A99; width: 40%;">Procedimiento</th>
                  <th class="text-white" style="background-color: #052A99; width: 24%;">Doctor</th>
                  <th class="text-white" style="background-color: #052A99; width: 17%;">Nota</th>
                  <th style="width: 2%; border: none;"></th>
                  
                
                  
                  
                </tr>
              </thead>
          
              <tbody id="tbody-procedimiento">
                  
              </tbody>
          
            </table>
          
          </div>

        </div>

      <!--Actualizarrrrrrrr-->
      <div class="modal fade" id="modal-actualizarse" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h1 class="modal-title fs-5" id="exampleModalLabel">Actualizar Paciente</h1>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">           
                <div class="mb-3">          
                      <input type="text" class="form-control" id="txtCodigoprocActualizar" readonly>
                </div>             
                <div class="mb-3">              
                      
                  <label for="txtFechaprocActualizar" class="form-label">&nbsp;&nbsp;&nbsp;<strong>Fecha de procedimiento</strong></label>
                  <input type="date" class="form-control" id="txtFechaprocActualizar">
                </div>
                <div class="mb-3 input-group">   
                    <div class="input-group">
                      <input type="text" class="form-control" id="txtDescripcionprocActualizar" placeholder="Procedimiento">
                      <span class="input-group-text">
                        <i class="bi bi-card-list text-warning"></i>
                      </span>
                      
                    </div>
                </div>
                <div class="mb-3 input-group">                
                  <select class="form-select" aria-label="Default select example" id="txtDoctorprocActualizar" >
                    <option selected disabled value="">Doctor</option>
                    <option value="Dr. Jhon Zelada">Dr. Jhon Zelada</option>
                    <option value="Dra. Alejandra Noriega">Dra. Alejandra Noriega</option>
                    <option value="Dr. Angel Granda">Dr. Angel Granda</option>
                    <option value="Dra. Madelyn Placido">Dra. Madelyn Placido</option>  
                    <option value="Dra. Carol Vasquez">Dra. Carol Vasquez</option>   
                    <option value="Dra. Azul Araucano">Dra. Azul Araucano</option>
                    <option value="Dr. Hans Gamarra">Dr. Hans Gamarra</option>
                    <option value="Dra. Rosario Araujo">Dra. Rosario Araujo</option>       
                    
                
                    
                  </select>
                </div>
                <div class="mb-3 input-group">                             
                  <div class="input-group">
                 
                    <input type="text" class="form-control" id="txtNotaprocActualizar" placeholder="Nota(Adicional)">
                    <span class="input-group-text">
                      <i class="bi bi-card-list text-warning"></i>
                    </span>
                    
                  </div>
                </div>
              
            </div>
          
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" id="btnCerrar">Cerrar</button>
              <button type="button" class="btn btn-primary" data-bs-dismiss="modal" id="btnActualizarProc">Actualizar</button>
            </div>
          </div>
        </div>
      </div>

     
      <div class="container pt-2 ">
        <button onclick="descargarPDF()">Descargar PDF</button>
      </div>

      <script>  
    
    function descargarPDF() {
      var element = document.querySelector('.descargar-tratamiento'); // Selecciona el contenedor con la clase 'descargar-tratamiento'

    
    var opt = {
        margin: 0,
        filename: 'tratamiento.pdf', // Nombre del archivo PDF
        image: { type: 'jpeg', quality: 1.0 },
        html2canvas: { scale: 3 },
        jsPDF: { 
            unit: 'in',
            format: 'letter',
            orientation: 'portrait',
            compressPDF: true
        },
       
        html2pdf: { width: element.offsetWidth, height: element.offsetHeight },
    };
    html2pdf().from(element).set(opt).save();
    
}
</script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.3/html2pdf.bundle.min.js"></script>
      <script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4="crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.min.js" integrity="sha384-Rx+T1VzGupg4BHQYs2gCW9It+akI2MM/mndMCy36UVfodzcJcF0GGLxZIzObiEfa" crossorigin="anonymous"></script> 
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <!-- CDN de Moment.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
    <!--<script src="js/procedimiento.js"></script>-->
    <script src="js/procedimiento.js">
        
    </script>
    <script src="js/script.js"></script>
   
</body>
</html>
